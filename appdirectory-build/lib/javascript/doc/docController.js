define(["jquery","util/gears","doc/docModel"],function(a,b,c){return function d(){var d=this,e;this.Save=function(){var b=a("#title").html(),d=a("#content").html();e==undefined&&(e=new c),e.title=b,e.content=d,e.Save()},this.New=function(){a("#title").html(""),a("#content").html(""),e=undefined},this.Index=function(){if(e)return e.All();e=new c;return e.All()},this.Destroy=function(a){if(e)e.Destroy(a);else{e=new c;return e.Destroy(a)}},this.Open=function(d){if(e)try{e=e.Find(d)}catch(f){b.log(f)}else try{e=(new c).Find(d)}catch(f){b.log(f)}e&&(a("#title").html(e.title),a("#content").html(e.content))}}})