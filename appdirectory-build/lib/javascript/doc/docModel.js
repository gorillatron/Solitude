define(function(){return function a(){this.id,this.title,this.content,this.tags,this.created,this.edited,this.All=function(){var a=localStorage.length,b=[];for(i=0;i<a;i++){var c=localStorage.key(i);this.Find(c)&&(b[i]=this.Find(c))}b.sort(function(a,b){return a.edited.time-b.edited.time});return b},this.Find=function(b){if(b!="systemdata"){var c=localStorage.getItem(b);if(c){var d=JSON.parse(c);d.id=b;var e=new a;e.id=b,e.title=d.title,e.content=d.content,e.tags=d.tags,e.edited=d.edited,e.created=d.created;return e}throw"could not find document with id of: "+b}return undefined},this.Destroy=function(a){try{localStorage.removeItem(a)}catch(b){return b}},this.Save=function(){var a=new Date;if(this.created==undefined){var b={date:a.getDate(),month:a.getMonth(),year:a.getFullYear(),time:a.getTime()};this.created=b}this.edited={date:a.getDate(),month:a.getMonth(),year:a.getFullYear(),time:a.getTime()};var c={title:this.title,content:this.content,tags:this.tags,created:this.created,edited:this.edited};this.id==undefined&&(this.id=a.getTime());try{localStorage.setItem(this.id,JSON.stringify(c))}catch(d){switch(d){case NOT_SUPPORTED_ERR:Gears.log("exception("+d+") thrown on localStorage.setItem(), local storage is not supported");break;case QUOTA_EXCEEDED_ERR:Gears.log("exception("+d+") thrown on localStorage.setItem(), local storage is full");break;default:Gears.log("exception("+d+") thrown on localStorage.setItem(),")}}}}})